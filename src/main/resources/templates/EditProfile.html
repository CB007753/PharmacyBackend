<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>Edit Profile</title>

</head>
<body>


<!--Start of Pharmacist Authorization-->
<div sec:authorize="hasAnyAuthority('ROLE_USER')">


    <!--Nav Bar (header)-->
    <nav class="navbar navbar-light" style="background-color: #A8E4A0;">
        <a class="navbar-brand" href="#" > PHARMA - Pharmacist </a>
    </nav>
    <!--header end-->



    <br>

    <div class="container" >
        <div align="center">

            <form  th:action="@{/user/updateuser}" action="/user/updateuser" method="post">
                <div class="form-group">

                    <h4>Edit Profile</h4>


                    <input type="text"
                           id="user_id"
                           class="form-control"
                           th:value="${id}"
                           name="user_id"
                           style="width: 300px"
                           hidden>

                    <label for="name">Full Name</label>
                    <input type="text"
                           id="name"
                           class="form-control"
                           th:value="${name}"
                           name="name"
                           style="width: 300px"
                           minlength="3">

                    <label for="email">Email</label>
                    <input type="text"
                           id="email"
                           class="form-control"
                           th:value="${email}"
                           name="email"
                           style="width: 300px">

                    <label for="contact">Contact</label>
                    <input type="text"
                           id="contact"
                           class="form-control"
                           th:value="${contact}"
                           style="width: 300px"
                           name="contact"
                           minlength="10"
                           maxlength="10">


                    <label for="password">Password(Read Only)</label>
                    <input type="text"
                           id="password"
                           class="form-control"
                           th:value="${password}"
                           name="password"
                           style="width: 300px"
                           readonly>


                    <br>
                    <input type="submit" class="btn btn-success" value="UPDATE PROFILE">
                </div>
            </form>

        </div><!-- End of align center div -->

    </div><!-- End of div class container -->


    <!--Footer-->
    <div class="card text-center">
        <div class="card-footer text-muted fixed-bottom">
            Pharma - Pharmacy Management System 2022
        </div>

    </div><!--End of class="card text-center"-->
    <!--End of Footer-->


</div>
<!--End of Pharmacist Authorization-->








<!--If logged in user is not pharmacist-->
<div sec:authorize="hasAnyAuthority('ROLE_SUPPLIER','ROLE_ADMIN')">

    <!--Nav Bar (header)-->
    <nav class="navbar navbar-light" style="background-color: #A8E4A0;">
        <a class="navbar-brand" href="#" > <b>PHARMA - No Permission To View</b> </a>
    </nav>
    <!--header end-->

    <div align="center">

        <img src="https://techlazza.com/wp-content/uploads/2021/03/for-to-fix-403-main.jpg" width="1200px" class="align-content-xxl-stretch" alt="403">

    </div> <!--End of div align="center"  -->

</div>
<!--End Of -If logged in user is not pharmacist-->








</body>
</html>


<!--contact validation in JS-->
<script>
    function validation()
    {

        const query = document.getElementById('contact').value;

        const isNumeric = query.match(/^\d+$/);

        if(isNumeric && query.length === 10)
        {
            return true
        }
        else{

            alert("Invalid Contact Number !Contact Number must contain numbers, Number Length should be 10 !")

            return false;
        }
    }
</script>