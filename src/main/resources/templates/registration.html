<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="ISO-8859-1">
    <title>Register</title>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous">
</head>

<body>

<!--Nav Bar (header)-->
<nav class="navbar navbar-light" style="background-color: #A8E4A0;">

    <a class="navbar-brand" href="#"  style="color: black"> PHARMA </a>
</nav>
<!--header end-->
<br>
<br>

<div class="container">
    <div class="row">
        <div class="col-md-6 col-md-offset-3">

            <!--Message displayed  -->
            <div th:if="${param.success}">

                <div class="alert alert-success">You are successfully registered</div>

            </div>
            <br>
            <div th:if="${param.unsuccess}">
                <div class="alert alert-danger">The email you entered is already taken, Try a new one !</div>
            </div>
            <br>
            <div th:if="${param.error}">
                <div style="text-align: center" class="alert alert-danger">Try Again !</div>
            </div>
        <!--       End of msg displayed     -->



            <h1>Registration</h1>

            <form th:action="@{/registration}" method="post" th:object="${user}" onsubmit="validation()">

                <div class="form-group" style="width: 500px">

                            <label class="control-label" for="fullname"> Full Name </label>
                            <input id="fullname"
                                   type="text"
                                   class="form-control"
                                   th:field="*{fullname}"
                                   maxlength="45"
                                   minlength="3"
                                   required />

                            <br>
                            <label class="control-label" for="email"> Email </label>
                            <input type="email"
                                   id="email"
                                   class="form-control"
                                   th:field="*{email}"
                                   maxlength="45"
                                   required/>

                            <br>
                            <label class="control-label" for="password"> Password </label>
                            <input  id="password"
                                    class="form-control"
                                    type="password"
                                    th:field="*{password}"
                                    minlength="8"
                                    maxlength="10"
                                    required/>

                            <br>
                            <label class="control-label" for="mobile"> Mobile Number </label>
                            <input id="mobile"
                                   class="form-control"
                                   type="text"
                                   th:field="*{mobile}"
                                   minlength="10"
                                   maxlength="10"
                                   required />


                    <div align="center">

                                <br><br>
                                <button type="submit"
                                        class="btn btn-success"
                                >Register</button>

                                <br><br>

                                <span>Already Registered ? <a href="/" th:href="@{/login}">Login</a></span>

                    </div> <!--end of align center-->



                </div><!--end of class form-group-->



            </form>


        </div><!--end of class "col-md-6 col-md-offset-3"-->

    </div><!--end of class row-->


</div><!--end of class container-->





</body>
</html>

<!--contact validation in JS-->
<script>
    function validation()
    {

        const query = document.getElementById('mobile').value;

        const isNumeric = query.match(/^\d+$/);

        if(isNumeric && query.length === 10)
        {
            return true
        }
        else{

            alert("Invalid Contact Number !Contact Number must contain numbers, Number Length should be 10 !")

            return false;
        }
    }
</script>